{"version":3,"sources":["components/page/Dialogue/quote.png","components/header/menu_icon.svg","components/bgAudio/pause.png","components/bgAudio/playing.gif","components/bgAudio/stop.gif","components/common/LineDivider/LineDivider.module.css","services/doubanApi.js","components/slides/Slides.jsx","components/page/StartPage.js","components/common/rating/StarRating.js","components/common/rating/BarRating.js","components/page/Top10Page/TopLeftNum.js","components/page/Top10Page/Top1Card.js","utils/hexToRgbA.js","components/common/Ellipsis/Ellipsis.jsx","components/page/Top10Page/Top10Page.js","components/page/Top10Page/Top29Card.js","components/page/Dialogue/DialoguePage.js","components/common/Loading/Loading.jsx","components/pages/Pages.jsx","components/page/Page.js","components/common/Label/Label.jsx","components/bgAudio/BgAudio.jsx","components/common/LineDivider/LineDivider.jsx","components/header/Header.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","api_movie2018","axios","create","baseURL","React","forwardRef","ref","syncWindowLocationHash","transitionTime","initSlideIndex","onIsGoingWillEnd","children","numOfSlides","Children","count","console","log","getCurrentSlideIndexFromWindowLocationHash","re","window","location","hash","match","numStr","substring","Number","useEffect","hashchangeHandler","evt","setCurrentSlideIndex","addEventListener","removeEventListener","innerRef","useRef","_isGoing","useState","source1","source2","currentSlideIndex","_transitonTime","undefined","goToSlide","slideIndex","t","current","setTimeout","goToSlideHoF","cb","rest","tempSlideIndex","setTempSlideIndex","_touchStartPoint","useImperativeHandle","getAlert","Outer","onTouchStart","clientY","changedTouches","clientX","onTouchMove","Math","abs","touches","y","innerHeight","onTouchEnd","onWheel","deltaY","Inner","translate3dY","map","child","index","type","Slide","props","filter","i","shouldRenderslideIndex","includes","styled","div","StartPage","bgUrl","bgMaskUrl","innerWidth","pageData","payload","mobile_mask_img","mobile_background_img","mask_img","Container","TitleImage","src","mobile_title_img","zIndex","BgImage","style","backgroundImage","video","BottomInfo","Description","description","img","BgVideoComponent","BgVideoWrapper","BgVideo","loop","autoPlay","StarRating","singleStarWidth","singleStarHeight","StarComponentArray","tmp","ratingScore","isNaN","error","numOfWholeStar","floor","totalScore","numOfHalfStar","numOfEmptyStar","push","width","height","key","StarSVG","isHalf","viewBox","xmlns","id","points","fillRule","fill","Object","keys","fillColor","SvgLinearGradient","display","offset","stopColor","fillColorBefore","fillColorAfter","stopOpacity","WholeStar","HalfStar","EmptyStar","BarRating","ratingArray","singleBarWidth","singleBarHeight","margin","starWidth","Bar","RatingBar","bgColor","score","marginLeft","textAlign","rating","level","starArray","fontSize","reverse","backgroundColor","background","TopLeftNum","color","borderRadius","position","top","left","Top1Card","movieUrl","title","cover","rating_stats","rating_count","playable","color_scheme","payloadTitle","background_color","baseFontSize","bgColorRgba","hex","alpha","c","alp","Error","test","split","length","join","hexToRgbA","primary_color_light","lineHeight","fontWeight","padding","borderBottom","CardMiddle","marginRight","float","MovieCover","href","target","MainRight","verticalAlign","StyledPlayIcon","width425","height425","rel","marginTop","paddingRight","right","RatingContainer","RatingSum","toFixed","RatingDetail","a","className","d","EllipsisText","memo","text","containerRef","isOverFlow","setIsOverFlow","containerScrollHeight","parseFloat","scrollHeight","containerCompStyles","getComputedStyle","Top10Page","top29CardWidth","coverHeight","subjects","background_img","cc","flex","justifyContent","flexDirection","alignItems","subject","m_url","url","BottomContainer","Bottom","s","StyledTop29Card","topN","coverUrl","ellipsisContainerRef","paddingTop","boxSizing","DialoguePage","dialogueText","movieTitle","backgroundPosition","backgroundSize","backgroundRepeat","bottom","maxWidth","paddingLeft","content","quotePNG","Loading","PageDataContext","createContext","pages","reducer","state","action","Page","Pages","menuItems","useReducer","dispatch","slidesRef","Provider","value","item","ButtonNext","onClick","p","IconNext","button","_numOfPageMemoRun","kind","withData","useContext","pageIndex","get","then","res","data","Label","overflow","textOverflow","whiteSpace","_numOfRun","BgAudio","audioList","showLabel","isPlaying","setIsPlaying","isHover","setIsHover","currentAudioIndex","setCurrentAudioIndex","audioRef","playAudio","promise","play","_","catch","_isFirstRun","pause","load","onMouseEnter","onMouseLeave","BgIcon","stopImage","playingImage","pauseImage","AudioLabel","InfoOnHover","name","preload","controls","onEnded","LineDivider","styles","_numOfHeaderRun","Header","menu_infos","active_index","showNav","setShowNav","navElement","handleClickElsewhere","contains","HeaderContianer","StyledHeader","FlexBoxRow","ImgIcon","alt","Share","bgAudioList","MenuBtn","menuIcon","NavContainer","show","NavList","listStyle","show_divider","show_divider_txt","header","nav","ol","_numOfAppRun","App","isHeaderDataLoaded","setIsHeaderDataLoaded","setMenuItems","setBgAudioList","widget_infos","JSON","parse","background_musics","setInnerWidth","updateWindowDimensions","Boolean","hostname","document","documentElement","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3d6c066c.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAA8JJREFUaAXtmk2ITWEYx+cy+WZFpKGR8llSku+yQJSSz1mwQKYkS1mhxEIhykJYMNNYSlE2FqwsbExJI0qxGBuS8tFgXL9nnHs758z5eJ/3nHPvPfU+9Tj3vOf/PM///7zvuec9d7S1OXMdcB1wHXAdcB1wHXAdaFAHKnnWqVarkm8+vtDzRRzF+yqVyk2ODTO4TKHYEjzApT0PBiSfQ569+D58bkTOXOpE5A0MwWMsAxvxLnwLPg4PmDURbzZ3km0/viaQtcEncJlNySP4bnxGUnkrwRSYR9JLeLOFyi0kDT+DyxJONZVgb8l0k/UkPiE1e4EAuHSS/jKuarqxYApMInkfvhpvqsFlEwRu4BO1RIwEU2A8iW/jrSB2HTxu4cJJbWPSIhArTZFHyoY0bNHX4bKCGj24lVjhlyoYzFV8s4At7TtxHyxj62GIXcDJXVxuLVsbSFzSFNlG5l2W2QeJu4g/ZNPxwzLHSBg85NtYck2zzPOAuGvweBUrmCLyhXDWssAd4s5nFeqrvYfPK33nph8/ATwKj2e1gFjBAI7jHTWg4niOAtcV+EQojZ8K4FQiKPrie4a74BK4nSLvYYrI9vBYdJ7EUdkz5ybWq3SCY+LuKYLRT8YOh8UKLlIw44dw7TehdPI0npvR+MkkO2CR8AJiB6LiRgmmiIztiAKnjF2hyFAKRnt5KwHazcVHYnrjCo0SDHAtPisuIGb8C+P3Yq5lGZaXAa31JjU+SrC8AWntMUX+aIOS8Ky06Vy32ew8SsobEEwRuW+3JwXEXHsSM55lWG4reb/V2CCNf5sUEBAMcBkujwGtvdYGGODXG2DCkFQeYcHyk4jWhgl4pw0ywC81wIQhb8ID4fOwYJsiX1lGv8OJs5xza8kq67DI8TktJizYZoYz7ZNjCNrwkFTfYvLVh+uC6aps0BfXr5h/aCXBqVzqgtHXiWsf8tKWv/JPzmY7w9U0Hv6Xh5lp4JjrFe9xFnO5bdjiGa3d+NRqtydxgceQLOMRAygv+T3eaZ6HXyQ7SLGnpknhch/sKlO8AtfvX9JGP3Mqkteg8mO4dokWxWV5IwTXhGuONpsfo/x+wYUVMWISBBU1w4H34cKKBLUYnRXGxT/D8rLddOMLS54cct8XYn7B/s+FFDNMqn1DMkz7H9YqIlWks4Cd4CzdK0Osm+EyzFIWjm6Gs3SvDLFuhsswS1k4uhnO0r0yxLoZLsMsZeHoZjhL98oQ65/hFxDO9U+eXgPkvx+8NG2G/JQKtt8Ur8Q9V+Id3HWg1TvwDwUjuswAAf85AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/menu_icon.146e8f1e.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAYCAYAAADpnJ2CAAAABGdBTUEAALGPC/xhBQAAAF1JREFUSA3tlcEKACAIQzX8/1+ujrLLEMXTPDWyiU8kt2LcH/mJ/8ianQ9LmL5XwWmiJqTjSGPcEQxxbzVDANSXQtpnCA7rSAP3pPq/QQNUrneognQm1QQhrRKj+Q9prwww1XTWTQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/gif;base64,R0lGODlhHAAcAPABAP///wAAACH5BAkeAAEAIf8LTkVUU0NBUEUyLjADAQAAACH/C0ltYWdlTWFnaWNrDWdhbW1hPTAuNDU0NTUALAAAAAAcABwAAAJPjI+py+0BIngUyvrkxE3zfn2LJypkiZyooaah0x6x+SazXbsRdd/6RttlcjJiEIgTwowWZVKD/DGgzB41WnT+rNosdFq9grss8ShMXqkZBQAh+QQJHgABACH/C0ltYWdlTWFnaWNrDWdhbW1hPTAuNDU0NTUALAAAAAAcABwAAAJGjI+py+0PDZggPlptw3rTznCgIo5IaUrYZ67s6E5pnMHxfLe57eL9gjrtEsEDLfQiDoUy4NKYZK6QTdJTVVX+rFlp6qspAAAh+QQJHgABACH/C0ltYWdlTWFnaWNrDWdhbW1hPTAuNDU0NTUALAAAAAAcABwAAAJQjI+py+1vgAQQTlrdzXrytn1LKCZkeZxooKbe00ZvJzGxOeM1nCO333PtaBjFT1jUXZLAofIGXTqbTGR0ag3KsNulTcuSVrtfaXkc5q7WjAIAOw==\"","module.exports = \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABGdBTUEAALGPC/xhBQAAAftJREFUSA29ljFOwzAUhglzuQBMFVL3VqyoCwdg6NR7VGLtxF06VFyALgzdYG0PUCYEEt2QUPj+1m5cYydOiHjSX9vP/3t/7SR+zk4SLM/zPrRbcA0uwDmQvYINeAIPWZa90DY3hEZgBVJN3FFtRYK6YJmqEuAptpskDHEI3sBfTTmGpaIigC/gm3wzMAY90DFQXz7NxeLCogRoG0Mrm+O/LP2nTIoDQs9bOX9vL07/mX3jm1QJ2Xm49yBmS8vbtbD0NvrWlpjNW7y9ePytmB/9o5IBsaGVveN/tEqmXdnV9b0JPfzKZ6ZgeDGxgXIA/0XqK2gKXJuVLOgwRUBUzJLg6O11bSrBheuhP7YBsRZOpZhilcvLvZBz7Tl7MSGTJEnMcPWduraW4Nb10O/EBJlLFjOCOiBc2yYLElVLzAieuWr0P5O2tIlYbEtPmVA9c+3KHUiM8Z3ro/8Bbqh/z57fHx7lYnIjQRVP11Rod/ZHMeU45NpnRIukwQ+/6TaaxMob/vBFYNI/2vwxlFzH1cAmrGrhqsq4tj/ajGDo8HbJdcUmbrDpF4e3EV0GSHI1EVNpc+24PBnBWAHWqV95mIsD/G2UaLgAG9EhBP+EV5B87V4xJCgj8RCErhq4a5lyhO8ze6niF+L/XRML2d1qW78IZ65ArM+KW7vq/wAYdECWtmmIzAAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-divider\":\"LineDivider_line-divider__2Bxcf\"};","\nimport axios from 'axios';\n\nconst movie_annual2018_base_url = `/fakeApi/ithil_j/activity/movie_annual2018`\n// const movie_annual2018_base_url = `/douban-annual-react/fakeApi/ithil_j/activity/movie_annual2018`\n// const movie_annual2018_base_url = `https://movie.douban.com/ithil_j/activity/movie_annual2018`\n\nexport const api_movie2018 = axios.create({\n  baseURL: movie_annual2018_base_url,\n  // headers: {}\n})\n","\nimport React, { useState, useRef, useEffect, useImperativeHandle } from 'react';\nimport styled from '@emotion/styled';\n\nfunction Slides({\n  syncWindowLocationHash = false,\n  transitionTime = 1000,\n  initSlideIndex = 0,\n  // tempSlideIndex, // 当用户通过touch事件滑动时,临时的拖动程度\n  // onWheel,\n  // onTouchStart,\n  // onTouchMove,\n  // onTouchEnd,\n  onIsGoingWillEnd,\n  children,\n  numOfSlides = React.Children.count(children) // if not provided, caculate using React.Children.count()\n}, ref) {\n  console.log(\"Slides run\")\n\n  const shouldRenderslideIndex = (currentSlideIndex, numOfSlides) => {\n    const shouldGetIndexArray = [\n      currentSlideIndex,\n      currentSlideIndex + 1,\n      currentSlideIndex - 1,\n      currentSlideIndex + 2\n    ]\n\n    const removeInvalidIndex =\n      shouldGetIndexArray.filter((i) => i >= 0 && i <= numOfSlides)\n    return removeInvalidIndex;\n  }\n\n    /**\n   * 如果同步currentSlideIndex和window.location.hash\n   * 则\n   */\n   const getCurrentSlideIndexFromWindowLocationHash = () => {\n    // 根据浏览器地址决定currentSlideIndex的值\n    const re = /#[0-9]\\d*\\b/g;\n    if (window.location.hash.match(re) !== null) {\n      const numStr = window.location.hash.match(re)[0].substring(1);\n      const num = Number(numStr);\n      return num\n    }\n  }\n  // const [currentPageIndex, setCurrentPageIndex] = useState(() => {\n  //   const source1 = getCurrentSlideIndexFromWindowLocationHash();\n  //   const sourceDefault = 0;\n  //   return source1 || sourceDefault;\n  // });\n\n  useEffect(() => {\n    if (syncWindowLocationHash) {\n      function hashchangeHandler(evt) {\n        console.log(\"hashchageHandler: \")\n        console.log(getCurrentSlideIndexFromWindowLocationHash())\n        setCurrentSlideIndex(getCurrentSlideIndexFromWindowLocationHash())\n      }\n      window.addEventListener(\"hashchange\", hashchangeHandler, false);\n      return () => {\n        window.removeEventListener(\"hashchange\", hashchangeHandler, false);\n      }\n    }\n  }, [])\n\n  const innerRef = useRef(null);\n  const _isGoing = useRef(false);\n  // const [prevSlideIndex, setPrevSlideIndex] = useState(undefined)\n  // if (currentSlideIndex !== prevSlideIndex) {\n  //   setPrevSlideIndex(currentSlideIndex);\n  // }\n  const [currentSlideIndex, setCurrentSlideIndex] = useState(() => {\n    const source1 = initSlideIndex;\n    const source2 = getCurrentSlideIndexFromWindowLocationHash()\n    const sourceDefault = 0;\n    if (syncWindowLocationHash) {\n      return source2 || source1 || sourceDefault\n    }\n    return source1 || sourceDefault;\n  })\n\n  const _transitonTime = useRef(undefined);\n  // This is the core function of this component,\n  // Never change `currentSlideIndex` directly by `setCurrentSlideIndex`, using this method instead.\n  const goToSlide = (slideIndex, t = transitionTime) => {\n    console.log(`_isGoing while attempt goToSlide ${slideIndex}: `, _isGoing.current)\n    if (_isGoing.current) return;\n\n    if (slideIndex < 0 || slideIndex > numOfSlides) {\n      _isGoing.current = false;\n      // 返回零代表到达边界\n      return 0;\n    }\n\n    _isGoing.current = true;\n\n    _transitonTime.current = t\n    setCurrentSlideIndex(slideIndex);\n    setTimeout(() => {\n      if (onIsGoingWillEnd) {\n        onIsGoingWillEnd()\n      }\n      if (syncWindowLocationHash) {\n        window.location.hash = `#${slideIndex}`\n      }\n\n      _transitonTime.current = undefined;\n      _isGoing.current = false;\n    }, _transitonTime.current);\n  }\n\n  // ontranstionEnd will not get called if transtionTime=0\n  // const transtionEndHandler = (evt) => {\n  //   console.log(\"transtionEndHandler run\")\n  //   _transitonTime.current = undefined;\n  //   _isGoing.current = false;\n  // }\n\n\n  // cb = (currenSlideIndex) => nextSlideIndex\n  const goToSlideHoF = (cb, ...rest) => {\n    return goToSlide(\n      cb(currentSlideIndex),\n      ...rest\n    )\n  }\n\n\n\n  const handleWheel = (evt) => {\n    console.log(\"_isGoing while handleWheel: \", _isGoing.current)\n    if (_isGoing.current) return;\n    if (evt.deltaY > 0) {\n      goToSlide(currentSlideIndex + 1)\n    } else {\n      goToSlide(currentSlideIndex - 1)\n    }\n  }\n\n\n\n\n  const [tempSlideIndex, setTempSlideIndex] = useState();\n  const _touchStartPoint = useRef(null);\n  const handleTouchStart = (evt) => {\n    // evt.preventDefault()\n    _touchStartPoint.current = {\n      clientY: evt.changedTouches[0].clientY,\n      clientX: evt.changedTouches[0].clientX\n    }\n  }\n\n  // MDN: since calling preventDefault() on a touchstart or the first touchmove event of a series prevents the corresponding mouse events from firing, it's common to call preventDefault() on touchmove rather than touchstart. That way, mouse events can still fire and things like links will continue to work. Alternatively, some frameworks have taken to refiring touch events as mouse events for this same purpose. \n  const handleTouchMove = (evt) => {\n    // 啊哈,这句对29滚动很重要啊! 对性能也很有效果\n    if (\n      Math.abs((evt.touches[0].clientY - _touchStartPoint.current.clientY) /\n        (evt.touches[0].clientX - _touchStartPoint.current.clientX)) < 1\n    ) {\n      return; // 水平方向上不作为\n    }\n    // 垂直方向上\n    // evt.preventDefault();\n    // console.log(\"handle touchmove\",\n    //   evt.touches[0].clientY\n    // )\n    let moveY = evt.touches[0].clientY - _touchStartPoint.current.clientY\n    let y = moveY / window.innerHeight\n    setTempSlideIndex(currentSlideIndex - y)\n  }\n\n  const handleTouchEnd = (evt) => {\n    // console.log(\"handle touchend\",\n    //   evt.touches[0]\n    // )\n    let moveY = evt.changedTouches[0].clientY - _touchStartPoint.current.clientY\n    let y = moveY / window.innerHeight\n    if (y < -0.1) {\n      // y方向位移小于一定负值,则向下翻页\n      // setCurrentPageIndex(p => p + 1)\n      goToSlide(currentSlideIndex + 1)\n    } else if (y > 0.1) {\n      // y方向位移大于一定正值,则向上翻页transitionTime\n      // setCurrentPageIndex(p => p - 1)\n      goToSlide(currentSlideIndex - 1)\n    } else {\n      // 其他情况,则在手指离开屏幕时,让touchmove的位移归位\n      // setCurrentPageIndex(p)\n    }\n    setTempSlideIndex(undefined)\n  }\n\n\n\n\n\n\n  useImperativeHandle(ref, () => ({\n    // _isScrolling,\n    currentSlideIndex,\n    goToSlide,\n    goToSlideHoF,\n    getAlert() {\n      console.log(\"alert from child\")\n    }\n  }))\n\n  return (\n    <Outer\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n      onWheel={handleWheel}\n    >\n      <Inner\n        ref={innerRef}\n        transitionTime={`${_transitonTime.current / 1000}s`}\n        translate3dY={`-${100 * (tempSlideIndex || currentSlideIndex)}%`}\n      // onTransitionEnd={transtionEndHandler}\n      >\n        {\n          // 遍历所有child,不是Slide则在外层套一层Slide.\n          React.Children.map(children, (child, index) => {\n            // https://stackoverflow.com/questions/55729582/check-type-of-react-component\n            // console.log(\"child\",child)\n            // return child\n            if (child.type === Slide) {\n              return child;\n            } else {\n\n              return (\n                <Slide index={child.props.index || index}>\n                  {\n                    shouldRenderslideIndex(currentSlideIndex, numOfSlides).includes(index) ? child : null\n                  }\n                </Slide>\n              )\n            }\n          })\n        }\n      </Inner>\n    </Outer>\n  )\n}\n\nexport default React.forwardRef(Slides)\n\nconst Outer = styled.div`\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\ndisplay: flex;\nflex-direction: column;\n`\n\n\nconst Inner = styled.div`\nbackground-color: #000;\nwidth: 100%;\nheight: 100%;\nposition: relative;\ntransition: transform ${props => props.transitionTime || \"1s\"};\ntransform: translate3d(0, ${props => props.translate3dY || 0}, 0);\n`\n\nexport const Slide = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: ${props => props.index * 100}%;\n  // transform: translate3d(0, -${props => props.index * 100}% ,0);\n  color: #fff;\n\n`\n\n","\nimport React from 'react';\nimport styled from '@emotion/styled';\n\n// interface props {\n//   pageData\n// }\n\nfunction StartPage(props){\n  const {\n    innerWidth,\n    pageData\n  } = props;\n\n  let bgUrl,bgMaskUrl\n  if ( innerWidth < 425 ) {\n    bgMaskUrl = pageData.payload.mobile_mask_img;\n    bgUrl = pageData.payload.mobile_background_img;\n  } else {\n    bgMaskUrl = pageData.payload.mask_img;\n  }\n\n  return (\n    <Container>\n      <TitleImage src={props.pageData.payload.mobile_title_img} zIndex={3}></TitleImage>\n      <BgImage style={{backgroundImage: `url(${bgMaskUrl})`}} zIndex={2}></BgImage>\n      {\n        innerWidth > 425 ? \n          <BgVideoComponent src={pageData.payload.video}></BgVideoComponent> : \n          <BgImage style={{backgroundImage: `url(${bgUrl})`}} zIndex={1}></BgImage>\n      }\n      <BottomInfo>\n        <Description>{props.pageData.payload.description}</Description>\n      </BottomInfo>\n    </Container>\n  )\n}\n\nexport default StartPage\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background: #000;\n`\n\nconst TitleImage = styled.img`\ndisplay: block;\nmax-width: 100%;\nposition: absolute;\ntop: 50%;\nleft: 50%;\ntransform: translate(-50%, -50%);\nz-index: ${props => props.zIndex || 1};\nwidth: 55vh;\n\n  @media only screen and (max-width: 425px) {\n    width: 45vh;\n  }\n\n`\nconst BgImage = styled.div`\nposition: absolute;\ntop:0;\nbottom:0;\nleft:0;\nright:0;\nbackground-size: cover;\nbackground-position: 50%;\nbackground-repeat: no-repeat;\nz-index: ${props => props.zIndex || 1};\n`\n\nconst BottomInfo = styled.div`\nwidth: 100%;\ncolor: hsla(0,0%, 100%, .6);\ntext-align: center;\nposition: absolute;\nbottom: 0;\nz-index: 3;\n`\n\nconst Description = styled.div`\n  padding: 3.2rem;\n  font-size: 1.3rem;\n  line-height: 2rem;\n`\n\nconst BgVideoComponent = (props) => (\n  <BgVideoWrapper>\n    <BgVideo loop autoPlay >\n      <source src={props.src} type=\"video/mp4\"></source>\n    </BgVideo>\n  </BgVideoWrapper>\n)\n\nconst BgVideoWrapper = styled.div`\nposition: fixed;\ntop: 0; \nright: 0; \nbottom: 0; \nleft: 0;\noverflow: hidden;\n`\nconst BgVideo = styled.video`\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: 100%;\nheight: 100%;\ncursor:pointer;\n\n  @media (min-aspect-ratio: 16/9) {\n    height: 300%; \n    top: -100%; \n  }\n\n  @media (max-aspect-ratio: 16/9) {\n    width: 300%; \n    left: -100%; \n  }\n`","\n\nimport React from 'react';\n\nexport default function StarRating(props) {\n  const {\n    singleStarWidth,\n    singleStarHeight,\n  } = props;\n\n  const totalScore = 10;\n  const totalStarNum = 5;\n  const StarComponentArray = []\n\n  const scoreOfOneStar = totalScore / totalStarNum\n  \n  const tmp = props.ratingScore;\n  const ratingScore = Number(tmp);\n  if (isNaN(ratingScore)) { console.error('StarRating: props.ratingScore should be a number')}\n\n  const numOfWholeStar = Math.floor(ratingScore / scoreOfOneStar)\n  const numOfHalfStar = ratingScore % scoreOfOneStar > 0 ? 1 : 0\n  const numOfEmptyStar = totalStarNum - numOfWholeStar - numOfHalfStar\n  for(let i=1; i<=numOfWholeStar; i++) {\n    StarComponentArray.push(<WholeStar width={singleStarWidth} height={singleStarHeight} key={'whole' + i} />)\n  }\n  if (numOfHalfStar) { StarComponentArray.push(<HalfStar width={singleStarWidth} height={singleStarHeight} key={`half`} />) }\n  for(let i=1; i<=numOfEmptyStar; i++) {\n    // StarComponentArray.push(emptyStar({width: singleStarWidth, height: singleStarHeight}))\n    // 上面这种形式如何传入key?\n    StarComponentArray.push(<EmptyStar width={singleStarWidth} height={singleStarHeight} key={'empty' + i} />)\n  }\n  return (\n    <div>\n      {\n        [...StarComponentArray]\n      }\n      {/* <Star></Star> */}\n    </div>\n  )\n}\n\n\n// use svg as normal images\n// const Star = () => (\n//   <span style={{display: \"inline-block\", width: \"40px\", height: \"40px\", background: `url(${starSVG}) 50%/contain no-repeat`}}>  \n//   </span>\n// )\n\n// use svg\nexport const StarSVG = (props) => {\n  const fillColor = () => Object.keys(props).includes('fillColor') ? props.fillColor : \"#929292\"\n  const {isHalf} = props\n  return (\n    <svg  height={props.height || '32'} viewBox='0 0 30 30' width={props.width || '32'} xmlns='http://www.w3.org/2000/svg'>\n      \n      {/* use polygon */}\n      <polygon id='star' points='16 22 7 28 11 18 2 12 12 12 16 2 20 12 30 12 21 18 25 28'\n        fillRule='evenodd' //好像没用这句不知到干啥的 \n        fill={ isHalf ? \n          \"url(#half-gradient)\" :\n          fillColor()}\n      />\n\n      {/* polygon => path ref https://stackoverflow.com/questions/13679495/examples-of-polygons-drawn-by-path-vs-polygon-in-svg */}\n      {/* or use path, uncomment the next line to see effects */}\n      {/* <path d=\"M16 22 7 28 11 18 2 12 12 12 16 2 20 12 30 12 21 18 25 28z\" fill={fillColor()} transform=\"translate(0,10)\"/> */}\n\n    </svg>\n  )\n}\n\n// 在这个组件中,提供svg fill的样式,通过url(#id)的方式来使用,由于全局可以获取,因此若放在在StarSVG组件内将重复渲染,并且可能污染全局,因此把他提出来,作为一个辅助的配置对象,来为整个文档的svg提供\n// url(#)引用的样式库\n// 这个组件文档内渲染一次就够了,相当于一个css样式库\nexport const SvgLinearGradient = (props) => {\n  return (\n    <svg width=\"0\" height=\"0\" style={{display: \"block\"}}>\n      <defs>\n        <linearGradient id={props.id}>\n          <stop offset='50%' stopColor={props.fillColorBefore || \"#ffac2d\"} />\n          <stop offset='50%' stopColor={props.fillColorAfter || \"#929292\"} stopOpacity='1' />\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nconst WholeStar = (props) => (\n  <StarSVG fillColor=\"#ffac2d\" width={props.width || \"1.6rem\"} height={props.height || \"1.6rem\"}></StarSVG>\n)\nconst HalfStar = (props) => (<StarSVG width={props.width || \"1.6rem\"} height={props.height || \"1.6rem\"} fillColor=\"url(#half-gradient)\" ></StarSVG>)\nconst EmptyStar = (props) => (<StarSVG width={props.width || \"1.6rem\"} height={props.height || \"1.6rem\"}></StarSVG>)\n","\nimport React from 'react';\nimport {StarSVG} from './StarRating';\n\nexport function BarRating(props) {\n  let {\n    ratingArray,\n    singleBarWidth,\n    singleBarHeight,\n    margin,\n  } = props;\n\n  // rem 所以减三个\n  // const starWidth = `${Number(singleBarHeight.substring(0,singleBarHeight.length-3))+ 0.1}rem`\n  const starWidth = singleBarHeight\n\n  const Bar = (props) => (\n      <RatingBar width={singleBarWidth} height={singleBarHeight}\n        bgColor={\"#ffac2d\"}\n        ratingScore={props.score}\n        style={{marginLeft: \".4rem\"}}\n        ></RatingBar>\n  )\n\n  return (\n    <div style={{textAlign: \"right\", }}>\n      {\n        ratingArray.map((rating, index )=> {\n          let level = index + 1;\n          let starArray = []\n          for (let i = 1; i <= level; i++) {\n            starArray.push(<StarSVG width={starWidth} height={starWidth} key={'star'+ i + 'in' + index}></StarSVG>)\n          }\n          return (\n            <div style={{fontSize: 0, margin: margin}} key={'bar' + index}>\n              <div style={{display: \"inline-block\", height: singleBarHeight}}>{[...starArray]}</div>\n              <Bar score={rating} ></Bar>\n            </div>\n          )\n        }).reverse()\n      }\n    </div>\n  )\n}\n\nfunction RatingBar(props) {\n  const {\n    width,\n    height,\n    bgColor,\n    // marginBottom,\n    ratingScore,\n    style\n  } = props;\n  const innerWidth = `${ratingScore * 100}%`\n  return (\n    <div style={{\n      ...style, \n      display: \"inline-block\",\n      width: width,\n      height: height,\n      backgroundColor: \"hsla(0,0%,100%,.1)\",\n      // marginBottom: marginBottom\n      }}>\n      <div style={{height:\"100%\", width: innerWidth, background: bgColor }}>\n\n      </div>\n    </div>\n  )\n}","\nimport React from 'react';\n\nexport default function TopLeftNum(props) {\n  const {\n    // num,\n    bgColor,\n    color,\n  } = props;\n  return (\n    <div style={{\n      backgroundColor: bgColor || \"#fdb700\",\n      width: \"24px\",\n      height: \"24px\",\n      borderRadius: \"4px 2px 24px 2px\",\n      position: \"absolute\",\n      top: \"-2px\"\n      }}>\n      <span style={{\n        fontSize: \"10px\",\n        color: color || \"#fff\",\n        position: \"absolute\",\n        top: \"4px\",\n        left: \"8px\",\n        }}>{props.children}</span>\n    </div>\n  )\n}\n","\nimport React from 'react';\nimport styled from '@emotion/styled';\nimport StarRating, { SvgLinearGradient } from '../../common/rating/StarRating';\nimport { BarRating } from '../../common/rating/BarRating';\nimport TopLeftNum from './TopLeftNum';\n\nimport hexToRgbA from '../../../utils/hexToRgbA';\n\nfunction Top1Card(props) {\n\n  const {\n    movieUrl,\n    //以下是解构的subject\n    title,\n    rating,\n    cover,\n    rating_stats,\n    rating_count,\n    playable,\n    color_scheme,\n    // 以下是payload的中的\n    payloadTitle,\n    background_color,\n    description,\n  } = props\n\n  // 把这个当作rem的base font\n  let baseFontSize = props.baseFontSize || 10\n\n  // 为了解决部分页面的json的payload中没有background_color这一属性,使用color_schema中的hex作为备选,为了透明度,所以转换为rgba\n  let bgColorRgba = hexToRgbA(`#${color_scheme.primary_color_light}`, .85)\n\n  return (\n    <Container bgColor={background_color || bgColorRgba } width={`${26 * baseFontSize}px`} >\n      <h1 style={{\n        fontSize: `${1.9 * baseFontSize}px`,\n        lineHeight: `${2.8 * baseFontSize}px`,\n        fontWeight: 700,\n        margin: `0 ${1.2 * baseFontSize}px`,\n        padding: `${.8 * baseFontSize}px 0`,\n        borderBottom: `${.1 * baseFontSize}px solid hsla(0,0%,100%,.25)`\n      }}>{payloadTitle}</h1>\n      <div style={{padding: `${1.56 * baseFontSize}px` }}>\n        <CardMiddle>\n          <div style={{\n            width: `${8 * baseFontSize}px`,\n            height: `${11.4 * baseFontSize}px`,\n            marginRight: `${1 * baseFontSize}px`,\n            float: \"left\",\n            position: \"relative\",\n          }}>\n            <TopLeftNum>1</TopLeftNum>\n            <MovieCover bgUrl={cover} href={movieUrl} target=\"_blank\"></MovieCover>\n          </div>\n          <MainRight>\n            <h2 style={{\n              fontSize: `${1.7 * baseFontSize}px`,\n              fontWeight: 400,\n              margin: 0,\n              verticalAlign: \"middle\",\n            }}>\n              {\n                playable ? \n                  <StyledPlayIcon width425={`${1.6 * baseFontSize}px`} height425={`${1.6 * baseFontSize}px`} ></StyledPlayIcon>\n                : null\n              }\n              <a href={movieUrl} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"#fff\" }}>{title}</a>\n            </h2>\n            <div style={{marginTop: description ? \"20px\" : null}}>\n              <div style={{\n                margin: `${.8 * baseFontSize}px 0 ${.4 * baseFontSize}px`,\n                color: \"hsla(0,0%,100%,.7)\",\n              }}>\n                <span style={{ fontSize: `${1.1 * baseFontSize}px`, lineHeight: `${2 * baseFontSize}px`, paddingRight: `${1.7 * baseFontSize}px`, display: \"inline-block\", position: \"relative\" }}>\n                  豆瓣评分\n                <span style={{ fontSize: `${.8 * baseFontSize}px`, lineHeight: \"normal\", position: \"absolute\", top: \"0\", right: \"0\" }}>TM</span>\n                </span>\n              </div>\n              <RatingContainer>\n                <RatingSum>\n                  <div style={{ fontSize: `${2.1 * baseFontSize}px`, fontWeight: 500, lineHeight: \"1.4\", textAlign: \"center\" }}>\n                    {rating.toFixed(1)}\n                  </div>\n                  <SvgLinearGradient id=\"half-gradient\"></SvgLinearGradient>\n                  <StarRating ratingScore={rating} singleStarWidth={`${.9 * baseFontSize}px`} singleStarHeight={`${.9 * baseFontSize}px`}></StarRating>\n                </RatingSum>\n\n                <RatingDetail>\n                  <BarRating ratingArray={rating_stats}\n                    singleBarWidth={`${5.6 * baseFontSize}px`} singleBarHeight={`${.4 * baseFontSize}px`} margin={`${.1 * baseFontSize}px 0`}\n                  ></BarRating>\n                  <div style={{ textAlign: \"right\", fontSize: `${.9 * baseFontSize}px`, lineHeight: `${1.3 * baseFontSize}px`, color: \"hsla(0,0%,100%,.6)\" }} >{rating_count}人评分</div>\n                </RatingDetail>\n              </RatingContainer>\n            </div>\n\n          </MainRight>\n        </CardMiddle>\n\n        {\n          description ? (\n            <div style={{\n              color: \"hsla(0,0%,100%,.6)\",\n              marginTop: `16px`,\n              fontSize: `13px`,\n              lineHeight: 1.7,\n            }}>{description}</div>\n          ) : null\n        }\n      </div>\n    </Container>\n  )\n}\n\nexport default Top1Card;\n\nconst Container = styled.div`\nbox-sizing: border-box;\nwidth: ${props => props.width};\nheight: ${props => props.height};\nbackground-color: ${props => props.bgColor};\n// background-color: #${props => props.bgColor};\n// opacity:0.85;\ncolor: white;\n\n`\n\n// const Title = styled.h1`\n// font-size: 1.9rem;\n// line-height: 2.8rem;\n// font-weight: 700;\n// margin: 0 1.2rem;\n// padding: 0.8rem 0;\n// border-bottom: 1px solid hsla(0,0%,100%,.25);\n// `\nconst CardMiddle = styled.div`\n  &::after {\n    display: block;\n    content: '';\n    clear: both;\n  }\n`\n\n// const MainLeft = styled.div`\n// width: 8rem;\n// height: 11.4rem;\n// margin-right: 1rem;\n// float: left;\n// position: relative;\n// `\nconst MainRight = styled.div`\ndisplay: block;\ndisplay: flex;\nflex-direction: column;\n`\n\n// const H2 = styled.h2`\n// // line-height: 1.7rem;\n// font-size: 1.7rem;\n// font-weight: 400;\n// margin: 0;\n// vertical-align: middle;\n// `\n\nexport const MovieCover = styled.a`\nbackground-image: url(${props => props.bgUrl});\ndisplay: block;\nwidth: ${ props => props.width || \"100%\"};\nheight: ${ props => props.height || \"100%\"};\nbackground-size: cover;\nbackground-position: 0 0;\nbackground-repeat: no-repeat;\n\n`\n\n// const RatingBand = styled.div`\n// margin: 8px 0 4px;\n// color: hsla(0,0%,100%,.7);\n// `\n\nconst RatingContainer = styled.div`\ndisplay: flex;\njustify-content: space-between;\n`\nconst RatingSum = styled.div`\n\n`\n\nconst RatingDetail = styled.div`\n\n`\n// const PlayIcon = styled.span`\n// display: inline-block;\n\n// vertical-align: -2px;\n// margin-right: 4px;\n// background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAAEi6oPRAAAABGdBT…BfBsrQ2QaaF4gyrEDG4cYjDp71yFDkfx/8BcPlAcqHAv8BoT5unqifvY4AAAAASUVORK5CYII=) 50%/contain no-repeat;\n//   @media only screen and (max-width: 425px){\n//     width: ${props => props.width425};\n//     height: ${props => props.width425};\n//   }\n\n// `\n\nconst PlayIcon = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 32 32\">\n    <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM12 9l12 7-12 7z\"></path>\n  </svg>\n)\n\nexport const StyledPlayIcon = styled(PlayIcon)`\ndisplay: inline-block;\nwidth: ${props => props.width425};\nheight: ${props => props.height425};\nstroke-width: 0;\nstroke: currentColor;\nfill: ${props => props.fillColor || \"currentColor\"};\nmargin-right: 0.4rem;\nvertical-align: -2px;\n\n`\n\n// const PlayIcon = styled.span`\n// display: inline-block;\n// margin-right: 0.4rem;\n// width: ${props => props.width425 || \"1rem\"};\n// height: ${props => props.width425 || \"1rem\"};\n// background-image: url(${props => props.bgUrl});\n// background-position: 50%;\n// background-repeat: no-repeat;\n// background-size: contain;\n// vertical-align: -2px;\n// `","\n// https://stackoverflow.com/questions/21646738/convert-hex-to-rgba\n//If you write your own code, remember hex color shortcuts (eg., #fff, #000)\nexport default function hexToRgbA(hex, alpha){\n  // 添加个alpha参数\n  let alp = Number(alpha);\n  if (isNaN(alp)) throw new Error(\"alpha should be a number!\")\n\n  var c;\n  if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){\n      c= hex.substring(1).split('');\n      if(c.length === 3){\n          c= [c[0], c[0], c[1], c[1], c[2], c[2]];\n      }\n      c= '0x'+c.join('');\n      return 'rgba('+[(c>>16)&255, (c>>8)&255, c&255].join(',')+`,${alp})`;\n  }\n  throw new Error('Bad Hex');\n}\n\n// hexToRgbA('#fbafff')\n\n/*  returned value: (String)\nrgba(251,175,255,1)\n*/","\nimport React, { useRef, useState, useEffect } from 'react';\n\nconst Ellipsis = ({\n  children\n}) => {\n  console.log(children)\n  const containerRef = useRef(null);\n\n  return (\n    <div ref={containerRef}>\n      {children}\n    </div>\n  )\n}\n\nlet _numOfEllipsisTextRun = 1\nexport const EllipsisText = React.memo(({\n  text = \"\",\n  containerRef\n}) => {\n  // console.log(\"Ellipsis run\", _numOfEllipsisTextRun++, text)\n  const [isOverFlow, setIsOverFlow] = useState(false)\n\n  useEffect(() => {\n    let containerScrollHeight = parseFloat(containerRef.current.scrollHeight)\n    let containerCompStyles = window.getComputedStyle(containerRef.current)\n    let containerHeight = parseFloat(containerCompStyles.height)\n\n    if (containerScrollHeight > containerHeight) {\n      setIsOverFlow(true)\n      console.log(text, \"isOverFlow:\", isOverFlow)\n    }\n  },[])\n\n  return (\n    <span>\n      {\n        isOverFlow ?  \n        text.substring(0, 6) + \"\\u2026\"\n        :\n        text\n        }\n    </span>\n  )\n})\nconst TestUse = () => {\n  const containerRef = useRef(null)\n  return (\n    <div ref={containerRef}>\n      <div>Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque architecto laborum est molestiae blanditiis deleniti ipsum eveniet commodi adipisci dolores.</div>\n      <Ellipsis\n        lineNumber={2}\n        renderAfterText={AfterTextElement}\n      >Lorem ipsum dolor sit amet consectetur.\n        </Ellipsis>\n      <EllipsisText containerRef={containerRef} >\n        这是几句,中文字体的话语凑字数的.my name is xxx, i live in xxx.\n      </EllipsisText>\n      <span>read more</span>\n    </div>\n  )\n}\n\nconst AfterTextElement = () => {\n  return (\n    <span>Read more</span>\n  )\n}","\nimport React from 'react';\nimport styled from '@emotion/styled';\nimport Top1Card from './Top1Card';\nimport Top29Card from './Top29Card';\n\n// interface props {\n//   pageData\n// }\n\nfunction Top10Page(props) {\n  const {\n    innerWidth,\n    pageData,\n  } = props\n  const {subjects} = pageData\n\n  let bgUrl, top29CardWidth, coverHeight\n  innerWidth > 425 ?\n    [bgUrl,top29CardWidth, coverHeight] = [pageData.payload.background_img, \"94px\", \"131px\" ] :\n    [bgUrl,top29CardWidth, coverHeight] = [pageData.payload.mobile_background_img, \"80px\", \"111px\"]\n\n  return (\n    <Container cc=\"#000\" bgUrl={bgUrl}>\n\n    <div style={{flex: 1, display: \"flex\", justifyContent: \"center\"}}>\n      <div style={{\n        flex:\"0 1 1024px\", // 将这个盒子默认宽度设为1024,默认不填充空隙,可shrink\n        display:\"flex\", // 以下定位盒子内元素的位置,即card的位置\n        flexDirection: \"row\", \n        alignItems: \"center\",\n        justifyContent: `${ props.pageData.payload.left === \"on\" ? \"flex-end\" : \"flex-start\"}`, \n        }}>\n        {\n          innerWidth < 425 ? \n            <Top1Card\n              payloadTitle={pageData.payload.title}\n              background_color={pageData.payload.background_color}\n              movieUrl={props.pageData.subject.m_url}\n              {...props.pageData.subject}\n              ></Top1Card>\n          :\n            <Top1Card\n              payloadTitle={pageData.payload.title}\n              background_color={pageData.payload.background_color}\n              description={pageData.payload.description}\n              movieUrl={pageData.subject.url}\n              {...props.pageData.subject}\n              baseFontSize={15.9} //414*10/260\n              ></Top1Card>\n        }\n      </div>\n    </div>\n      <BottomContainer>\n        <Bottom>\n          {\n            subjects.map((s, index) => {\n              if (index === 0 ) return null;\n              return (\n                <StyledTop29Card topN={index + 1}\n                  coverUrl={s.cover}\n                  title={s.title}\n                  playable={s.playable}\n                  rating={s.rating.toFixed(1)}\n                  width={top29CardWidth}\n                  coverHeight={coverHeight}\n                  movieUrl={innerWidth > 425 ? s.url : s.m_url}\n                  key={s.id} />\n                )\n              })\n            }\n        </Bottom>\n      </BottomContainer>\n    </Container>\n  )\n}\n\n\nexport default Top10Page;\n\nconst Container = styled.div`\nwidth: 100%;\nheight: 100%;\nbox-sizing: border-box;\npadding: 40px 0 60px;\ndisplay: relative;\nbackground: ${props => props.cc || \"red\"};\nbackground-image: url(${props => props.bgUrl});\nbackground-size: cover;\nbackground-position: 50%;\n// z-index: 0;\ndisplay: flex;\nflex-direction: column;\n @media only screen and (max-width: 425px) {\n  padding: 40px 0 50px;\n }\n`\n\n\n// const Top = styled.div`\n// flex: 1;\n// display: flex;\n// flex-direction: column;\n// justify-content: center;\n// align-items: flex-end;\n// `\nconst BottomContainer = styled.div`\nwidth: 100%;\noverflow: hidden;\ndisplay: flex;\njustify-content: center;\n\n// max-width: 1024px;\n// margin: 0 auto;\n`\n\nconst Bottom = styled.div`\n// width: 100%;\nflex: 0 1 1024px;\n\ndisplay: flex;\nflex-direaction: row;\noverflow: auto;\n &::-webkit-scrollbar {\n  display: none;\n}\nheight: 180px;\n`\n\nconst StyledTop29Card = styled(Top29Card)`\nmargin-left: 22px;\n  &:first-of-type {\n    margin-left: 0;\n  }\n\n  @media only screen and (max-width: 425px) {\n    margin-left: 1.5rem;\n    &:first-of-type {\n    \n      margin-left: 1.5rem;\n    }\n    &:first-of-type {\n      padding-right: 1.5rem;\n    }\n  }\n\n`\n","\nimport React, { useRef } from 'react';\nimport { MovieCover, StyledPlayIcon } from './Top1Card';\nimport TopLeftNum from './TopLeftNum';\nimport { EllipsisText } from \"../../common/Ellipsis/Ellipsis\";\n\nexport default function Top29Card(props) {\n  const {\n    topN,\n    coverUrl,\n    width,\n    coverHeight,\n    className,\n    title,\n    playable,\n    rating,\n    movieUrl,\n  } = props;\n\n  const ellipsisContainerRef = useRef();\n\n  return (\n    <div className={className}\n      style={{ display: \"block\", position: \"relative\", width: width, paddingTop: \"2px\" }}>\n      <TopLeftNum>{topN}</TopLeftNum>\n      <MovieCover\n        href={movieUrl} target=\"_blank\"\n        bgUrl={coverUrl} width={width} height={coverHeight}></MovieCover>\n      <a href={movieUrl} target=\"_blank\" rel=\"noopener noreferrer\" >\n        <div \n          ref={ellipsisContainerRef}\n          style={{ boxSizing: \"border-box\", height: \"42px\", padding: \"4px 5px\", fontSize: \"12px\", lineHeight: \"1.6rem\", background: \"rgba(0,0,0,.5)\" }}>\n          <span>\n            {\n              playable ? (\n                <StyledPlayIcon width425=\"13px\"></StyledPlayIcon>\n              ) : null\n            }\n          </span>\n          {/* <span>{title}</span> */}\n          <EllipsisText text={title} containerRef={ellipsisContainerRef}></EllipsisText>\n          <span style={{ color: \"#fdb700\", marginLeft: \"3px\" }}>{rating}</span>\n        </div>\n      </a>\n    </div>\n  )\n}","\nimport React from 'react';\n\nimport quotePNG from \"./quote.png\";\n\nexport default function DialoguePage(props) {\n  const {\n    pageData,\n    innerWidth,\n    // bgUrl,\n    // dialogueText,\n    // movieTitle,\n  } = props;\n\n  let bgUrl, dialogueText, movieTitle\n  innerWidth < 425 ?\n    bgUrl = pageData.payload.mobile_background_img :\n    bgUrl = pageData.payload.background_img\n\n  dialogueText = pageData.payload.text;\n  movieTitle = pageData.subject.title;\n\n  return (\n    <div style={{\n      width: \"100%\", height: \"100%\",\n      backgroundColor: \"#000\",\n      backgroundImage: `url(${bgUrl})`,\n      backgroundPosition: \"50%\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\",\n      position: \"relative\",\n      }}>\n      <div style={{\n        position: \"absolute\",\n        bottom: 0,\n        width: \"100%\",\n        padding: innerWidth > 425 ? \"20px 0 80px\" : \"25px 0 70px\",\n        backgroundColor: \"#000\",\n      }}>\n        <div style={{\n          maxWidth: \"1024px\",\n          margin: \"0 auto\",\n          padding: innerWidth > 425 ? 0 : \"0 1.95rem\"\n        }}>\n          <div style={{\n            fontSize: innerWidth > 425 ? \"calc(2.21rem + 3.3 * (100vw - 414px) / 952)\" : \"17px\", // 不知道豆瓣这么算是什么个意思,rem不同所以我该了下\n            textAlign: innerWidth > 425 ? \"center\" : \"left\",\n            lineHeight: \"1.5\",\n            paddingLeft: innerWidth < 425 ? \"40px\" : 0,\n            position: \"relative\",\n            }}>\n            {\n              innerWidth < 425 ? \n                <div style={{\n                  content: '',\n                  display: \"inline-block\",\n                  position: \"absolute\",\n                  left: 0,\n                  width: \"20px\",\n                  height: \"20px\",\n                  background: `url(${quotePNG}) 50%/contain no-repeat`,\n                }}></div>\n                : null\n            }\n            {dialogueText}\n          </div>\n          <div style={{\n            fontSize: \"calc(1.69rem + 2.7 * (100vw - 414px) / 952)\", // 不知道豆瓣这么算是什么个意思,rem不同所以我该了下\n            textAlign: \"right\",\n            marginTop: \"1.95rem\",\n          }}>\n            &mdash;&mdash;《{movieTitle}》\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","\n\nimport React from 'react';\n\nimport styled from '@emotion/styled'\n\nconst Loading = () => {\n  return (\n    <Container>\n      <div>Loading...</div>\n    </Container>\n  )\n}\n\nconst Container = styled.div`\nwidth: 100%;\nheight: 100%;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\ncolor: #fff;\n`\n\nexport default Loading;","import React, { useReducer, useRef } from \"react\";\nimport styled from '@emotion/styled';\nimport Slides from \"../slides/Slides\";\nimport Page from \"../page/Page\";\nexport const PageDataContext = React.createContext(null);\n\nconst pages = {}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_PAGE_DATA_SUCCESS':\n      return {\n        ...state,\n        [action.payload.index]: action.payload.pageData\n      }\n    // return {\n    //   ...state,\n    //   pages: {\n    //     ...state.pages,\n    //     [action.payload.index]: action.payload.pageData,\n    //   }\n    // }\n    case 'FETCH_PAGE_DATA_ERROR':\n    default:\n      return state;\n  }\n}\nconst Pages =\n  (props) => {\n    const {\n      innerWidth,\n      menuItems\n    } = props;\n    const [state, dispatch] = useReducer(reducer, pages)\n    const slidesRef = useRef();\n\n\n    const buttonNextHandler = () => {\n      // goToPage(currentPageIndex + 1);\n      slidesRef.current.goToSlideHoF(p => p + 1, 0)\n    }\n    \n    return (\n      <PageDataContext.Provider value={{ state, dispatch }}>\n        <Slides\n          ref={slidesRef}\n          initSlideIndex={0}\n          syncWindowLocationHash={true}\n        >\n          {\n            menuItems.map((item, index) => {\n              return (\n                // <Slide index={index}>\n                // <div>item.id: {item.id}</div>\n\n                <Page\n                  index={index}\n                  key={`page-${index}`}\n                // pageData={state.pages[index]}\n                innerWidth={innerWidth}\n                ></Page>\n                // </Slide>\n              )\n            }\n            )\n          }\n        </Slides>\n        <ButtonNext\n          onClick={buttonNextHandler}\n        >\n          <IconNext width=\"1.6rem\" height=\"1.6rem\"></IconNext>\n        </ButtonNext>\n      </PageDataContext.Provider >\n    )\n  }\n\n\nexport default Pages;\n\nconst ButtonNext = styled.button`\n  position: absolute;\n  bottom: 1rem;\n  right: 2rem;\n  z-index: 2;\n  background: transparent;\n  border-radius: 50%;\n  width: ${props => props.width};\n  height: ${props => props.height};\n  border: 1px solid #fff;\n  padding: 1.5rem;\n  background-color: rgba(0,0,0,.2);\n\n  &:focus {\n    outline: none;\n  }\n\n  @media only screen and (max-width: 425px) {\n    left: 50%;\n    transform: translateX(-50%);\n    border: none;\n  }\n`\n\nconst IconNext = styled.div`\n&::before {\n  display: block;\n  content: '';\n  width: ${props => props.width || \"100%\"};\n  height: ${props => props.height || \"100%\"};\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADmwAAA5sBPN8HMQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEOSURBVGiB7dfNToNAFIZhuEZsNLGJS/C2NY2LdmFc0tbXDRNPyAwFhflpvjfphjAz5wllQVUppZRSSim1JOAJ+ALegCb1POOAB+AAfAK70E01cOS3C/AcedZgwH6YyXUC6tDNFpINxoMA+Jha8OhZkBQTQFxu/vWBBuhHC7+BLtLsdpbX4WxbP/v9zQHzb4TZKBlmNYTZMDpmdYTZOBoG6DZBmAM2x2yOMAdthomGMAeujomOMAevhkmGMAOEMO2CPdIizCB/xmSDMAMtxmSHMIPNxmSLcM3BZI9wBTBX4AVoi0C48H87nD3XsvhgmyzwZMp4EuMmMOUgXB5MeQjXgHkffmUilFJKKaXU/fQD/JJjbhigL+0AAAAASUVORK5CYII=);\n  background-size: contain;\n}\n// @media only screen and (max-width: 414px) {\n//   width: ${props => props.width};\n//   height: ${props => props.height};\n//   }\n`","\nimport React, { useState, useEffect, useContext, useMemo } from 'react';\nimport StartPage from './StartPage';\nimport Top10Page from './Top10Page/Top10Page';\nimport DialoguePage from './Dialogue/DialoguePage';\nimport { api_movie2018 } from '../../services/doubanApi';\nimport Loading from '../common/Loading/Loading';\nimport { PageDataContext } from '../pages/Pages';\n\nlet _numOfPageRun = 1\nlet _numOfPageMemoRun = 1\nconst Page =\n  React.memo(\n    (props) => {\n\n      const {\n        innerWidth,\n        pageData\n      } = props;\n      console.log(\"Page memo run\", _numOfPageMemoRun++)\n\n      // if (pageData === undefined) {\n      //   return (\n      //     <div style={{ width: \"100%\", height: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", color: \"white\" }}>\n      //       <span>Loading...</span>\n      //     </div>\n      //   )\n      // } else \n      if (pageData.kind === 0) {\n        return (\n          <StartPage pageData={pageData} innerWidth={innerWidth}></StartPage>\n        )\n      } else if (pageData.kind === 1) {\n        return (\n          <Top10Page pageData={pageData} innerWidth={innerWidth} ></Top10Page>\n        )\n      } else if (pageData.kind === 2) {\n        return (\n          <DialoguePage pageData={pageData} innerWidth={innerWidth} ></DialoguePage>\n        )\n      }\n      else {\n        return (\n          <div>这个类型的模板没写</div>\n        )\n      }\n\n    }\n  )\n\n\nconst withData = (Page) => {\n  return (props) => {\n    const { index } = props;\n    const { state, dispatch } = useContext(PageDataContext)\n\n    const getOnePage = (pageIndex) => {\n      // console.log(`get onepage ${n}'s json`)\n      api_movie2018\n        .get(`/widget/${pageIndex}.json`)\n        .then(res => {\n          dispatch({ type: 'FETCH_PAGE_DATA_SUCCESS', payload: { index: index, pageData: res.data.res } })\n        })\n    }\n    useEffect(() => {\n      if (state[index]) {\n        return;\n      }\n      getOnePage(index)\n    }, [])\n\n    if (state[index]) {\n      return (\n        <Page pageData={state[index]}  {...props}></Page>\n      )\n    }\n    return (\n      <Loading />\n    )\n\n  }\n}\n\nexport default withData(Page);","\nimport React from \"react\";\n\nconst Label = ({\n  width,\n  children,\n  className // for styled\n}) => {\n  return (\n    <span\n      className={className}\n      style={{\n        width: width,\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n      }}>\n      {children}\n    </span>\n  )\n}\n\nexport default Label;","\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from \"@emotion/styled\";\n\nimport pauseImage from './pause.png';\nimport playingImage from './playing.gif';\nimport stopImage from './stop.gif'\nimport Label from '../common/Label/Label';\n\nlet _numOfRun = 1\n\nconst BgAudio = ({\n  audioList,\n  showLabel\n}) => {\n  console.log(\"BgAudio run\", _numOfRun++)\n\n  const [isPlaying, setIsPlaying] = useState(true);\n  const [isHover, setIsHover] = useState(false);\n  const [currentAudioIndex, setCurrentAudioIndex] = useState(0)\n\n  const audioRef = useRef();\n\n  // ref1: https://developers.google.com/web/updates/2017/06/play-request-was-interrupted\n  // ref2: https://stackoverflow.com/questions/56602005/play-audio-with-react\n  const playAudio = () => {\n    console.log(\"playAudio run\")\n    const promise = audioRef.current.play();\n\n    if (promise !== undefined) {\n      promise.then(_ => {\n        // Autoplay started!\n        console.log(\"play started\")\n      }).catch(error => {\n        // Autoplay was prevented.\n        // Show a \"Play\" button so that user can start playback.\n        console.log(\"playAudio failed\")\n        console.log(error)\n      });\n    }\n  }\n\n  const _isFirstRun = useRef(true)\n  useEffect(() => {\n    console.log(\"useEffect, isPlaying\", isPlaying)\n    // why need this?\n    // both `useEffect(, [isPlaying])` and `useEffect(,[currentAudioIndex])` will execute at the first run of `bgAudio` component \n    // and both of these two methods call `audioRef.current.play()` and/or `load()` which will raise an `Uncaught (in promise) DOMException`\n    // In fact , `bgAudio` will set two initial state variable at its first run: isPlaying=true, currentAudioIndex=0\n    // isPlaying dependent useEffect is for handle toggle event about play/pause.\n    // currentAudioIndex dependent useEffect is for handle index change event.\n    // so, it feels more reasonable to use currentAudioIndex dependent useEffect to trigger audio.play() when the `bgAudio` component first run.\n\n    if (_isFirstRun.current) {\n      _isFirstRun.current = false;\n      return;\n    }\n\n    if (isPlaying) {\n      // audioRef.current.play()\n      playAudio()\n    } else {\n      audioRef.current.pause()\n    }\n  }, [isPlaying])\n\n  const onClickHandler = (evt) => {\n    console.log(\"onClickHandler\")\n    setIsPlaying(p => !p);\n  }\n\n  const onEnded = (evt) => {\n    setCurrentAudioIndex(p => {\n      if (p + 1 >= audioList.length) {\n        return 0\n      } else {\n        return p + 1\n      }\n    });\n  }\n\n  useEffect(() => {\n    console.log(\"useEffect, currentAudioIndex\", currentAudioIndex)\n    audioRef.current.load();\n    // audioRef.current.play();\n    playAudio();\n  }, [currentAudioIndex])\n\n  const InfoOnHover = (isPlaying) => (isPlaying ? \"关闭背景音乐\" : \"播放背景音乐\")\n\n  return (\n    <Container\n      onMouseEnter={() => setIsHover(true)}\n      onMouseLeave={() => setIsHover(false)}\n      onClick={onClickHandler}\n    >\n\n      <BgIcon src={isPlaying ? (isHover ? stopImage : playingImage) : pauseImage} />\n\n      <AudioLabel width=\"150px\">\n        {\n          isHover ? (\n            InfoOnHover(isPlaying)\n          ) : (\n              isPlaying ? audioList[currentAudioIndex].name : \"播放背景音乐\"\n            )\n        }\n      </AudioLabel>\n\n      <audio\n        ref={audioRef}\n        autoPlay={true}\n        preload=\"auto\"\n        controls\n        onEnded={onEnded}\n        style={{ display: \"none\" }}\n      >\n        <source\n          src={audioList[currentAudioIndex].url}\n          type=\"video/mp4\"\n        />\n        Your browser does not support the <code>audio</code> element.\n    </audio>\n    </Container>\n  )\n}\n\nexport default BgAudio;\n\nconst Container = styled.div`\ncolor: #fff;\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\nmargin-right: 36px;\ncursor: pointer;\n@media only screen and (max-width: 414px) {\n  margin-right: 10px;\n}\n`\n\nconst BgIcon = styled.div`\ndisplay: flex;\nalign-items: center;\nline-height: 1;\n  &:before {\n    width: 1em;\n    height: 1em;\n    margin-right: .5em;\n    content: '';\n    background-position: 50%;\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-image: url(${props => props.src});\n  }  \n`\n\nconst AudioLabel = styled(Label)`\n@media only screen and (max-width: 768px) {\n    display: none;\n}\n`","\nimport React from 'react';\nimport styles from './LineDivider.module.css'\n\nconst LineDivider = ({text}) => {\n  return (\n    <div className={styles[\"line-divider\"]} >\n      <span>{text}</span><hr/>\n    </div>\n  )\n}\n\nexport default LineDivider;","\nimport React, { useState, useContext, useMemo, useEffect, useRef } from 'react';\nimport styled from '@emotion/styled';\nimport './Header.scss';\nimport menuIcon from './menu_icon.svg';\nimport BgAudio from '../bgAudio/BgAudio';\nimport LineDivider from '../common/LineDivider/LineDivider';\n\nlet _numOfHeaderRun = 1\nconst Header = React.memo(\n\n  (props) => {\n    console.log(\"Header run\", _numOfHeaderRun++)\n\n    const {\n      innerWidth,\n      height,\n      menu_infos,\n      active_index,\n      // onBtnMenuClick,\n      // onMenuItemClick,\n    } = props\n\n    const [showNav, setShowNav] = useState(false);\n\n    const handleItemClick = (index) => {\n      // onMenuItemClick(index);\n      setShowNav(false);\n    }\n\n    const navElement = useRef(null);\n    useEffect(() => {\n      if (showNav) {\n        function handleClickElsewhere(evt) {\n          if (!navElement.current.contains(evt.target)) {\n            setShowNav(false);\n          }\n        }\n        window.addEventListener(\"click\", handleClickElsewhere, false)\n        return () => {\n          window.removeEventListener(\"click\", handleClickElsewhere, false)\n        }\n      }\n    }, [showNav])\n\n    return (\n      <HeaderContianer height={height}>\n        <StyledHeader>\n          <FlexBoxRow>\n            <ImgIcon width=\"24\" src=\"https://img3.doubanio.com/view/activity_page/raw/public/p3065.jpg\" alt=\"\" />\n            <ImgIcon alt=\"\" src=\"data:image/png;base64,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\" />\n            <span>豆瓣2018年度电影榜单</span>\n            <Share>{innerWidth < 425 ? \"分享\" : \"分享给朋友\"}</Share>\n          </FlexBoxRow>\n\n          <FlexBoxRow>\n            <BgAudio audioList={props.bgAudioList}></BgAudio>\n            <MenuBtn\n              onClick={() => {\n                setShowNav(true)\n                // setShowNav(!showNav);\n                // onBtnMenuClick({showNav: true})\n              }}\n            >\n              <BgIcon src={menuIcon}>目录</BgIcon>\n            </MenuBtn>\n          </FlexBoxRow>\n          <NavContainer ref={navElement} show={showNav}>\n            <NavList>\n              {\n                menu_infos ? (\n                  menu_infos.map((i, index) => {\n                    return (\n                      <li\n                        key={\"nav-li\" + index}\n                        style={{ marginTop: \"1rem\", listStyle: \"none\" }}\n                      // color: ${active_index === index ? \"#fff\" : null};\n                      >\n                        {\n                          i.show_divider ? (\n                            <LineDivider text={i.show_divider_txt} />) : null\n                        }\n                        <div>\n                          <a href={`/#${index}`} onClick={() => handleItemClick(index)}>{i.title}</a>\n                          {/* <a onClick={() => handleItemClick(index)}>{i.title}</a> */}\n                        </div>\n                      </li>\n                    )\n                  })\n                ) : <Loading></Loading>\n              }\n            </NavList>\n            <div className=\"nav-close\">\n              <button onClick={() => {\n                setShowNav(false)\n                // onBtnMenuClick({showNav: false})\n              }}></button>\n            </div>\n          </NavContainer>\n        </StyledHeader>\n      </HeaderContianer>\n    )\n  }\n\n)\n\n\nfunction Loading(props) {\n  return (\n    <div style={{\n      width: \"100%\", height: \"100%\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    }}>\n      <span>Loading</span>\n    </div>\n  )\n}\n\nexport default Header;\n\nconst HeaderContianer = styled.div`\nfont-size: 1.3rem;\nwidth: 100%;\nheight: ${props => props.height || \"40px\"};\nposition: fixed;\nbackground: rgba(0,0,0,.4);\nz-index: 3;\n@media only screen and (min-width: 425px) {\n  background-color: rgba(0,0,0,.4);\n}\n`\n\nconst StyledHeader = styled.header`\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 40px;\n  color: white;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  position: absolute;\n  top: 7px;\n\n  @media only screen and (max-width: 425px) {\n    padding: 0 10px;\n  }  \n`\n\nconst FlexBoxRow = styled.div`\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n// line-height: 1.9rem;\nvertical-align: middle;\n`\n\nconst ImgIcon = styled.img`\ndisplay: block;\nmargin-right: .5rem;\nwidth: 24px;\nheight: 24px;\n\n@media only screen and (max-width: 425px) {\n  width: 18px;\n  height: 18px;\n}\n`\n\nconst BgIcon = styled.div`\ndisplay: flex;\nalign-items: center;\nline-height: 1;\n  &:before {\n    width: 1em;\n    height: 1em;\n    margin-right: .5em;\n    content: '';\n    background-position: 50%;\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-image: url(${props => props.src});\n  }  \n`\n\nconst MenuBtn = styled.button`\nbackground: transparent;\ncolor: #fff;\nborder: .1rem solid ;\nbox-sizing: border-box;\nline-height: 1;\npadding: .5rem 1.2rem;\nborder-radius: .3rem;\n\n &:active {\n   background: #000;\n   border-color: transparent;\n }\n`\n\nconst Share = styled.div`\nmargin-left: .5rem;\npadding-left: .5rem;\nborder-left: 1px solid #fff;\n`\n\nconst MIcon = styled.div`\ndisplay: -webkit-box;\ndisplay: -ms-flexbox;\ndisplay: flex;\n-webkit-box-align: center;\n-ms-flex-align: center;\nalign-items: center;\n &:before {\n  width: 1em;\n  height: 1em;\n  margin-right: .5em;\n  content: '';\n  background-position: 50%;\n  background-size: cover;\n  background-repeat: no-repeat;\n }\n\n// `\n\nconst MenuIcon = ({ viewBox = \"0 0 32 32\" }) => {\n  return (\n    <svg enable-background=\"new 0 0 32 32\" id=\"Editable-line\" version=\"1.1\" viewBox={viewBox} space=\"preserve\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xlink=\"http://www.w3.org/1999/xlink\">\n      <circle cx=\"5\" cy=\"6\" fill=\"#fff\" id=\"XMLID_303_\" r=\"1\" stroke=\"#ffffff\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" />\n      <circle cx=\"5\" cy=\"16\" fill=\"#fff\" id=\"XMLID_305_\" r=\"1\" stroke=\"#ffffff\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" />\n      <circle cx=\"5\" cy=\"26\" fill=\"#fff\" id=\"XMLID_304_\" r=\"1\" stroke=\"#ffffff\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" />\n      <line fill=\"#fff\" id=\"XMLID_29_\" stroke=\"#ffffff\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" x1=\"10\" x2=\"28\" y1=\"6\" y2=\"6\" />\n      <line fill=\"#fff\" id=\"XMLID_30_\" stroke=\"#ffffff\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" x1=\"10\" x2=\"28\" y1=\"16\" y2=\"16\" />\n      <line fill=\"#fff\" id=\"XMLID_31_\" stroke=\"#ffffff\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" x1=\"10\" x2=\"28\" y1=\"26\" y2=\"26\" />\n    </svg>\n  )\n}\n\nconst NavContainer = styled.nav`\nbox-sizing: border-box;\noverflow: hidden;\n// font-size: 1.4rem;\nmax-width: 100vw;\nheight: 100vh;\nposition: fixed;\ntop: 0;\nright: ${props => props.show ? 0 : \"-100%\"};\nbackground: rgba(0,0,0,.9);\ntransition: right .5s;\n`\n\nconst NavList = styled.ol`\ndisplay: block;\nbox-sizing: border-box;\nheight: 100%;\nwidth: 100%;\ncolor: hsla(0,0%,100%,.54);\npadding: 1.8rem 2.5rem;\noverflow: auto;\n`\n","import React, { Component, useState, useEffect, useRef, useLayoutEffect, useReducer } from 'react';\nimport styled from '@emotion/styled';\nimport './App.css';\n\nimport { api_movie2018 } from './services/doubanApi';\nimport Slides from './components/slides/Slides';\nimport Page from './components/page/Page';\nimport Header from './components/header/Header';\nimport Pages from './components/pages/Pages';\n\n\n\nexport const AppContext = React.createContext(null);\n\nlet _numOfAppRun = 1\nconst App = (props) => {\n  console.log(\"App run\", _numOfAppRun++)\n\n  // const [state, dispatch] = useReducer(reducer, initialState)\n\n\n  const [isHeaderDataLoaded, setIsHeaderDataLoaded] = useState(false)\n  const [menuItems, setMenuItems] = useState([])\n  const [bgAudioList, setBgAudioList] = useState();\n\n\n  useEffect(() => {\n    //获取目录数据\n    getHeaderData();\n  }, [])\n\n  function getHeaderData() {\n    api_movie2018\n      .get('summary.json')\n      .then(res => {\n        // dispatch({\n        //   type: 'FETCH_MENUITEMS_SUCCESS', \n        //   payload: {\n        //     menuItems: res.data.res.widget_infos,\n        //   }\n        // })\n        // dispatch({\n        //   type: 'FETCH_BGAUDIOLIST_SUCCESS',\n        //   payload: {\n        //     bgAudioList: JSON.parse(res.data.res.payload.background_musics)\n        //   }\n        // })\n        setMenuItems(res.data.res.widget_infos)\n        setBgAudioList(\n          JSON.parse(res.data.res.payload.background_musics)\n        )\n        setIsHeaderDataLoaded(true)\n      })\n  }\n\n  const [innerWidth, setInnerWidth] = useState(window.innerWidth)\n\n  useEffect(() => {\n    const updateWindowDimensions = () => {\n      setInnerWidth(window.innerWidth)\n    }\n    window.addEventListener('resize', updateWindowDimensions);\n    return () => {\n      window.removeEventListener('resize', updateWindowDimensions);   \n    }\n  })\n\n  return (\n    // <AppContext.Provider value={{ state, dispatch }} >\n\n      <Container>\n        {\n          isHeaderDataLoaded ? (\n            <Header\n              innerWidth={innerWidth}\n              height=\"40px\"\n              menu_infos={menuItems}\n              bgAudioList={bgAudioList}\n            // active_index={slidesRef.current.currentSlideIndex}\n            // onMenuItemClick={MenuItemClickHandler}\n            ></Header>\n          ) : null\n        }\n\n        <Pages \n          innerWidth={innerWidth}\n          menuItems={menuItems}></Pages>\n\n      </Container>\n    // </AppContext.Provider>\n  );\n\n\n\n\n}\n\nexport default App;\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  position:relative;\n  background-color: #000;\n`\n\n\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// import './utils/rem';\ndocument.documentElement.style.fontSize = \"10px\";\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}